(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4892],{42252:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var r,o,i=n(59499),c=n(67294),u=n(69580),a=n(48762),s=n(50029),l=n(17674),f=n(87794),p=n.n(f),d=n(35625),v=n(85893),h=["/send/with-bitcoin","send/with-usdt-tron","/send/with-p2p","/send/with-usdc","/send/payment-method"],m=function(t,e,n){var o=t.useState,i=t.useEffect;return function(t){var c=t.currency,u=t.position,a=void 0===u?"top":u,f=t.round,m=h.includes(window.location.pathname),y=o(0),b=(0,l.Z)(y,2),w=b[0],O=b[1],g=o(null),j=(0,l.Z)(g,2),x=j[0],Z=j[1],P=o(!1),k=(0,l.Z)(P,2),S=k[0],D=k[1],N=n(),_=(0,l.Z)(N,1)[0];i((function(){return(0,s.Z)(p().mark((function t(){var n,o,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=e.ready)||void 0===n?void 0:n.call(e);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=e;case 5:o=t.t0,i=o.fxRate$,r=i.subscribe((function(t){Z(t)}));case 8:case"end":return t.stop()}}),t)})))(),function(){var t;null===(t=r)||void 0===t||t.unsubscribe()}}),[]);var R=function(){var e=(0,s.Z)(p().mark((function e(){var n,r,o,i,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=(n=_||{}).hasUnusedPromoCode,o=n.unusedPromoCodeAmount,r&&o&&null!==(i=(0,d.convertCurrency)({amount:+o,from:"USD",to:c||"USD",currencyInput:"code",fxRate:x}))&&void 0!==i&&i.value&&(O(i.displayValue),null===(u=t.setAmount)||void 0===u||u.call(t,i.value))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i((function(){R()}),[x,_]),i((function(){setTimeout((function(){D(!!w)}),1)}),[w]),x&&null!==_&&void 0!==_&&_.id&&!w?null:(0,v.jsx)("p",{"aria-live":"polite","aria-atomic":"true",className:["px text-center","bottom"===a?"card__banner--bottom":"card__banner",f?"card__banner--round":"",S?"card__banner--show":""].join(" "),children:S?(0,v.jsxs)("span",{className:"flex-1",children:["You have ",(0,v.jsx)("i",{children:w})," "," ","off ",m?"this":"your next"," "," ","transfer!"]}):null})}};function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var b=function(t){var e=(0,c.useState)(!1),n=e[0],r=e[1];return(0,c.useEffect)((function(){var t=(0,u.t)("@/exchange-rate");o=m(c,t,a.Z),r(!0)}),[]),n?(0,v.jsx)(o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)):null}},68725:function(t,e,n){var r=n(85696),o=n(44431),i=function(t){if(!t&&0!==t||!t.toString)return"";var e=t.toString();if(!e)return"";var n=e.includes("."),i=e.split("."),c=r(i,2),u=c[0],a=c[1],s=void 0===a?"":a,l=new o(u).toFormat({prefix:"",decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0,suffix:""});return"NaN"===l?"0":l+(n?".".concat(s):"")},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",c=new o(t),u="btc"===e.toLowerCase()?8:2,a=o.ROUND_HALF_UP;if("up"===r?a=o.ROUND_UP:"down"===r&&(a=o.ROUND_DOWN),c=c.decimalPlaces(u,a),n)return i(c);var s=c.toFixed();return"NaN"===s?"":s};t.exports={round:c,formatNumber:i,add:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new o(t||0),u=new o(e||0),a=i.plus(u);return n?c(a,n,r):a.toString()},subtract:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new o(t||0),u=new o(e||0),a=i.minus(u);return n?c(a,n,r):a.toString()},multiply:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new o(t||0),u=new o(e||0),a=i.multipliedBy(u);return n?c(a,n,r):a.toString()},divide:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new o(t||0),u=new o(e||0),a=i.dividedBy(u);return n?c(a,n,r):a.toString()},isGreaterThan:function(t,e){var n=new o(t||0),r=new o(e||0);return n.isGreaterThan(r)},isLessThan:function(t,e){var n=new o(t||0),r=new o(e||0);return n.isLessThan(r)},isEqualTo:function(t,e){var n=new o(t||0),r=new o(e||0);return n.isEqualTo(r)},isLessThanOrEqualTo:function(t,e){var n=new o(t||0),r=new o(e||0);return n.isLessThan(r)||n.isEqualTo(r)},isGreaterThanOrEqualTo:function(t,e){var n=new o(t||0),r=new o(e||0);return n.isGreaterThan(r)||n.isEqualTo(r)}}},54283:function(t,e,n){"use strict";n.d(e,{R:function(){return r}});var r=function(){return window.innerWidth>=800}},35625:function(t,e,n){var r=n(82730).allCurrencies,o=n(93475).getDisplayAmount,i=n(68725),c=i.multiply,u=i.divide,a=i.round;t.exports={convertCurrency:function(t){var e,n,i,s=t.amount,l=t.fxRate;if(!s||!l)return{value:null,formattedValue:null,displayValue:"-"};if("code"===t.currencyInput)e=r[t.from],n=r[t.to],t.from,i=t.to;else{e=t.from,n=t.to;var f=Object.values(r).indexOf(e);Object.keys(r)[f];var p=Object.values(r).indexOf(n);i=Object.keys(r)[p]}var d=e===n?s:c(s,u(l[n],l[e]),i),v=a(d,i,!0);return{value:d,formattedValue:v,displayValue:"code"===t.currencyDisplay?"".concat(v," ").concat(i):o(d,i)}}}},93475:function(t,e,n){function r(t){var e=t.toString();return(e.includes(".")?e.split(".")[1].length:0)>8?t.toFixed(8):t}function o(t){var e=parseFloat(t,10);return(new Intl.NumberFormat).format(e.toFixed(2))}t.exports={formatBTC:r,formatFiat:o,getDisplayAmount:function(t,e){var i="BTC"===e?r(t):o(t),c=n(53527).knownCurrencySymbols;return c[e]?"".concat(c[e]).concat(i):"".concat(e).concat(i)}}},29603:function(t,e,n){"use strict";n.d(e,{B:function(){return c}});var r=n(59499);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return console.log("Redirecting to: ",t),i(i({},e),{},{redirect:{forceUpdate:n,url:t}})}},62221:function(t,e,n){"use strict";n.d(e,{K:function(){return h}});var r=n(92777),o=n(82262),i=n(10748),c=n(81531),u=n(63553),a=n(37247),s=n(90607);function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,e,n){return f=l()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&(0,s.Z)(o,n.prototype),o},f.apply(null,arguments)}function p(t){var e="function"===typeof Map?new Map:void 0;return p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,(0,a.Z)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,s.Z)(r,t)},p(t)}var d=n(59499);function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,a.Z)(t);if(e){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var h=function(t){(0,c.Z)(n,t);var e=v(n);function n(t){var o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return(0,r.Z)(this,n),o=e.call(this,t),(0,d.Z)((0,i.Z)(o),"status",void 0),(0,d.Z)((0,i.Z)(o),"custom",void 0),o.status=c,o}return(0,o.Z)(n,[{key:"statusCode",get:function(){return this.status}}]),n}(p(Error))},3114:function(t,e,n){"use strict";n.r(e);var r=n(50029),o=n(92777),i=n(82262),c=n(10748),u=n(81531),a=n(63553),s=n(37247),l=n(59499),f=n(87794),p=n.n(f),d=n(67294),v=n(69580),h=n(62221),m=n(24491),y=n(54283),b=n(75268),w=n(99009),O=n(83466),g=n(82730),j=n(34593),x=n(42252),Z=n(34930),P=n(11163),k=n.n(P),S=n(29603),D=n(85893);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){(0,l.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var T=function(t){(0,u.Z)(n,t);var e=R(n);function n(t){var r;return(0,o.Z)(this,n),r=e.call(this,t),(0,l.Z)((0,c.Z)(r),"Store",void 0),(0,l.Z)((0,c.Z)(r),"backLink",{href:"/receive",name:"Receive page"}),(0,l.Z)((0,c.Z)(r),"selectPaymentMethod",(function(t){t.id;var e=t.method;k().push("/receive/amount?method=".concat(e))})),r.Store=(0,m.S)()?(0,v.t)("@/global-store"):null,r.state={promoCodeDiscount:0,isDesktop:!!(0,m.S)()&&(0,y.R)()},r}return(0,i.Z)(n,[{key:"render",value:function(){var t=this,e=this.state.isDesktop;return(0,D.jsxs)("div",{className:e?"page--slim":"page--full",children:[(0,D.jsx)(b.Z,{hook:w.C,argumentsList:[],onUpdate:function(e){t.setState({isDesktop:e})}},"useIsDesktop"),(0,D.jsx)(O.Z,{title:"Deposit with",backLink:this.backLink}),(0,D.jsx)("div",{className:"page__main",children:(0,D.jsxs)("section",{className:"flex-layout-center-column",children:[(0,D.jsx)("p",{className:"text-center small px",children:"Deposit BTC or USDT and receive the USD equivalent in your Sendcash wallet."}),(0,D.jsxs)("div",{className:"card__banner-wrapper",children:[(0,D.jsxs)("ul",{className:"list list--clickable list--card list--with-shadow mb-none",children:[g.disableBtc?null:(0,D.jsx)(j.Z,{method:"bitcoin",name:"Bitcoin",summary:"Send from a Bitcoin wallet",selectPaymentMethod:this.selectPaymentMethod}),g.disableUsdtOnTron?null:(0,D.jsx)(j.Z,{method:"usdt-tron",name:"USDT (TRON)",summary:"Send from a USDT wallet",selectPaymentMethod:this.selectPaymentMethod})]}),(0,D.jsx)(x.Z,{currency:"USD",round:!0,position:"bottom",setAmount:function(e){t.setState({promoCodeDiscount:e})}})]}),this.state.promoCodeDiscount?null:(0,D.jsxs)("div",{className:"mt-l",children:[" ",(0,D.jsx)(Z.Z,{router:this.props.router})," "]})]})})]})}}]),n}(d.Component);(0,l.Z)(T,"getInitialProps",function(){var t=(0,r.Z)(p().mark((function t(e){var n,r,o,i,c,u,a,s,l;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.pathname,r=e.asPath,o=e.req,i=e.res,e.err,c={title:"Deposit With",path:(null===r||void 0===r?void 0:r.split("?")[0])||n,description:""},t.prev=2,!o||!i){t.next=9;break}return t.next=6,i.locals.getCurrentUser();case 6:a=t.sent,t.next=10;break;case 9:a=null===(l=(0,v.t)("@/global-store"))||void 0===l?void 0:l.currentUser;case 10:if(null!==(s=a)&&void 0!==s&&s.id){t.next=12;break}throw new h.K("Not signed in.",401);case 12:if(a.isCompletelyVerified){t.next=14;break}return t.abrupt("return",(0,S.B)("/virtual-account/verify",{meta:_({},c),template:"app",showAppMobileNav:!1,showAppDesktopNav:!0}));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),u={title:c.title,authMessage:"",backLink:{href:"/home",name:"Home page"},callbackUrl:"/receive/method",skipUrl:"/receive",skipLabel:"Back"};case 19:return t.abrupt("return",{meta:c,template:"app",usesAuth:!0,showAppMobileNav:!1,showAppDesktopNav:!0,currentUser:a,signupPrompt:u});case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}()),e.default=(0,P.withRouter)(T)},13365:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/receive/method",function(){return n(3114)}])}},function(t){t.O(0,[4231,4431,458,9124,9774,2888,179],(function(){return e=13365,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
//# sourceMappingURL=method-beddeef4e1f994c5.js.map