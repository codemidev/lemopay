(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{68725:function(t,e,n){var r=n(85696),a=n(44431),o=function(t){if(!t&&0!==t||!t.toString)return"";var e=t.toString();if(!e)return"";var n=e.includes("."),o=e.split("."),i=r(o,2),u=i[0],s=i[1],l=void 0===s?"":s,c=new a(u).toFormat({prefix:"",decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0,suffix:""});return"NaN"===c?"0":c+(n?".".concat(l):"")},i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",i=new a(t),u="btc"===e.toLowerCase()?8:2,s=a.ROUND_HALF_UP;if("up"===r?s=a.ROUND_UP:"down"===r&&(s=a.ROUND_DOWN),i=i.decimalPlaces(u,s),n)return o(i);var l=i.toFixed();return"NaN"===l?"":l};t.exports={round:i,formatNumber:o,add:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new a(t||0),u=new a(e||0),s=o.plus(u);return n?i(s,n,r):s.toString()},subtract:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new a(t||0),u=new a(e||0),s=o.minus(u);return n?i(s,n,r):s.toString()},multiply:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new a(t||0),u=new a(e||0),s=o.multipliedBy(u);return n?i(s,n,r):s.toString()},divide:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new a(t||0),u=new a(e||0),s=o.dividedBy(u);return n?i(s,n,r):s.toString()},isGreaterThan:function(t,e){var n=new a(t||0),r=new a(e||0);return n.isGreaterThan(r)},isLessThan:function(t,e){var n=new a(t||0),r=new a(e||0);return n.isLessThan(r)},isEqualTo:function(t,e){var n=new a(t||0),r=new a(e||0);return n.isEqualTo(r)},isLessThanOrEqualTo:function(t,e){var n=new a(t||0),r=new a(e||0);return n.isLessThan(r)||n.isEqualTo(r)},isGreaterThanOrEqualTo:function(t,e){var n=new a(t||0),r=new a(e||0);return n.isGreaterThan(r)||n.isEqualTo(r)}}},35625:function(t,e,n){var r=n(82730).allCurrencies,a=n(93475).getDisplayAmount,o=n(68725),i=o.multiply,u=o.divide,s=o.round;t.exports={convertCurrency:function(t){var e,n,o,l=t.amount,c=t.fxRate;if(!l||!c)return{value:null,formattedValue:null,displayValue:"-"};if("code"===t.currencyInput)e=r[t.from],n=r[t.to],t.from,o=t.to;else{e=t.from,n=t.to;var m=Object.values(r).indexOf(e);Object.keys(r)[m];var d=Object.values(r).indexOf(n);o=Object.keys(r)[d]}var v=e===n?l:i(l,u(c[n],c[e]),o),f=s(v,o,!0);return{value:v,formattedValue:f,displayValue:"code"===t.currencyDisplay?"".concat(f," ").concat(o):a(v,o)}}}},93475:function(t,e,n){function r(t){var e=t.toString();return(e.includes(".")?e.split(".")[1].length:0)>8?t.toFixed(8):t}function a(t){var e=parseFloat(t,10);return(new Intl.NumberFormat).format(e.toFixed(2))}t.exports={formatBTC:r,formatFiat:a,getDisplayAmount:function(t,e){var o="BTC"===e?r(t):a(t),i=n(53527).knownCurrencySymbols;return i[e]?"".concat(i[e]).concat(o):"".concat(e).concat(o)}}},10461:function(t,e,n){"use strict";n.d(e,{K:function(){return x}});var r=n(50029),a=n(92777),o=n(82262),i=n(10748),u=n(81531),s=n(63553),l=n(37247),c=n(59499),m=n(87794),d=n.n(m),v=n(74231),f=n(82730),p=n(35625),h=n(68725),g=n(85893);function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.Z)(t);if(e){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var x={createComponent:function(t,e,n){var s=function(t){(0,u.Z)(l,t);var s=y(l);function l(t){var n;(0,a.Z)(this,l),n=s.call(this,t),(0,c.Z)((0,i.Z)(n),"minAmount",void 0),(0,c.Z)((0,i.Z)(n),"maxAmount",void 0),(0,c.Z)((0,i.Z)(n),"fxRateSubscription",void 0),(0,c.Z)((0,i.Z)(n),"onRejectInput",void 0),(0,c.Z)((0,i.Z)(n),"validationMessage",{required:"Please enter an amount",digits:"Please enter only numbers in the amount field.",length:"Amount input should not be more than 7 digits long, or 10 digits for decimal numbers.",min:function(){var t;return"The minimum amount is ".concat(null===(t=n.minAmount)||void 0===t?void 0:t.displayValue)},max:function(){var t;return(0,g.jsxs)(g.Fragment,{children:["To ","receive"===e.transaction.direction?"receive ":"send ","above ",(null===(t=n.maxAmount)||void 0===t?void 0:t.displayValue)||"",", please",(0,g.jsxs)("a",{className:"form__error__link",href:"mailto:support@sendcash.africa?subject=Increase Send Limit on Sendcash&body=Hi Team, I would like to send above the limit on Sendcash.",children:[" "," contact us"]})]})}}),(0,c.Z)((0,i.Z)(n),"permittedInputValidator",(0,v.Z_)().test({name:"digits-only",message:n.validationMessage.digits,test:function(t){return!t||t.match(/^\d*\.?\d*$/)}}).test({name:"max-length",message:n.validationMessage.length,test:function(t){return!t||(t.includes(".")&&t.length>10?(t.length<n.state.amount.length&&n.setAmount(t.slice(0,10)),!1):!(!t.includes(".")&&t.length>7)||(t.length<n.state.amount.length&&n.setAmount(t.slice(0,7)),!1))}})),(0,c.Z)((0,i.Z)(n),"validInputValidator",(0,v.Z_)().required(n.validationMessage.required).test({name:"min-amount",message:n.validationMessage.min,test:function(t){return n.minAmount=n.getAmountLimit("min"),!n.minAmount.value&&0!==n.minAmount.value||(0,v.Rx)().min(n.minAmount.value).isValidSync(t||0)}}).test({name:"max-amount",message:n.validationMessage.max,test:function(t){return n.maxAmount=n.getAmountLimit("max"),!n.maxAmount.value&&0!==n.maxAmount.value||(0,v.Rx)().max(n.maxAmount.value).isValidSync(t||0)}})),(0,c.Z)((0,i.Z)(n),"validateAmount",(function(){var t=n.state.amount;n.validInputValidator.validate(t).then((function(){var t,e;n.setState({inputError:""}),null===(t=(e=n.props).setError)||void 0===t||t.call(e,"")})).catch((function(t){var e,r;n.setState({inputError:t.message}),null===(e=(r=n.props).setError)||void 0===e||e.call(r,t.message)}))})),(0,c.Z)((0,i.Z)(n),"setAmount",(function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=(null===t||void 0===t?void 0:t.toString().replace(/,/g,""))||"";if(!e)try{n.permittedInputValidator.validateSync(a)}catch(d){var o,i,u,s;return null===(o=(i=n).onRejectInput)||void 0===o||o.call(i,d.message),void(null===(u=(s=n.props).onRejectInput)||void 0===u||u.call(s,d.message,n.state.amount,n.state.displayValue))}var l,c,m=(0,h.formatNumber)(a);(a=m.replace(/,/g,""),n.setState({amount:a,displayValue:m},n.validateAmount),r)&&(null===(l=(c=n.props).onChange)||void 0===l||l.call(c,a,m))})),(0,c.Z)((0,i.Z)(n),"getAmountLimit",(function(t){var e=n.state.fxRate;return(0,p.convertCurrency)({fxRate:e,amount:f.limits[t],from:f.allCurrencies[f.limits.currency],to:f.allCurrencies[n.props.currency]})}));var r="undefined"!==typeof document?document.body.dataset.fxRate:void 0,o=r?JSON.parse(r):null,u=t.defaultValue||t.value;return n.state={amount:u,displayValue:(0,h.formatNumber)(u),inputError:"",fxRate:o},n}return(0,o.Z)(l,[{key:"componentDidMount",value:function(){var t=this,e=function(){var e=(0,r.Z)(d().mark((function e(){var r,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=n.ready)||void 0===r?void 0:r.call(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=n;case 5:a=e.t0,o=a.fxRate$,t.fxRateSubscription=o.subscribe((function(e){t.setState({fxRate:e},(function(){return t.validateAmount()}))}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),this.validateAmount()}},{key:"componentDidUpdate",value:function(t){if(this.props.value!==t.value){var e=this.props.value,n=void 0===this.props.forcedAllowed||this.props.forcedAllowed;this.setAmount(e,n,!1)}if(this.props.currency!==t.currency){var r=this.state,a=r.fxRate,o=r.amount,i=f.allCurrencies[t.currency],u=f.allCurrencies[this.props.currency],s=(0,p.convertCurrency)({fxRate:a,amount:o,from:i,to:u}).value;this.setAmount(s)}}},{key:"componentWillUnmount",value:function(){var t;null===(t=this.fxRateSubscription)||void 0===t||t.unsubscribe()}},{key:"render",value:function(){var t=this,e=this.state,n=e.displayValue,r=e.inputError;return this.props.children({setAmount:function(e){return t.setAmount(e)},displayValue:n,errorMessage:r,setRejectInputCallback:function(e){t.onRejectInput=e},amountInputAttributes:{type:"tel",inputMode:"decimal"}})}}]),l}(t.Component);return s}}}}]);
//# sourceMappingURL=461-6cbf63147eab20b1.js.map