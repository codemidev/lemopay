(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9122],{34050:function(e,t,n){"use strict";var r=n(67294),s=n(14154).B.createComponent(r);t.Z=s},9122:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(92777),s=n(82262),u=n(10748),o=n(81531),a=n(63553),c=n(37247),i=n(59499),l=n(34050),d=n(85893),p=function(e){var t=e.className;return(0,d.jsxs)("svg",{className:t,width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsxs)("g",{clipPath:"url(#clip0_392_836)",children:[(0,d.jsx)("path",{d:"M19.4167 3.85535V8.85535H14.4167",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M1.08325 17.1886V12.1886H6.08325",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M3.17492 8.02195C3.59756 6.82761 4.31586 5.75979 5.26281 4.91814C6.20975 4.07648 7.35447 3.48843 8.59016 3.20884C9.82584 2.92925 11.1122 2.96724 12.3292 3.31927C13.5463 3.67129 14.6543 4.32588 15.5499 5.22195L19.4166 8.85529M1.08325 12.1886L4.94992 15.822C5.84554 16.718 6.95356 17.3726 8.17059 17.7246C9.38762 18.0767 10.674 18.1147 11.9097 17.8351C13.1454 17.5555 14.2901 16.9674 15.237 16.1258C16.184 15.2841 16.9023 14.2163 17.3249 13.022",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"clip0_392_836",children:(0,d.jsx)("rect",{width:"20",height:"20",fill:"white",transform:"translate(0.25 0.521973)"})})})]})},m=n(6518),y=n(69682),h=n(96712),f=n(53527),v=n(88850),C=n(67294),w=n(86058),g=n.n(w);var b=function(e,t,n){return function(e,t,n,r){var s=n||{},u=s.withIcon,o=void 0===u||u,a=s.feature,c=g().find((function(t){return t.code===e}));if("selected"===t)return{jsx:(0,d.jsxs)("span",{className:"flex justify-start",children:[o?(0,d.jsx)("img",{"aria-hidden":"true",src:"/assets/icons/countries/".concat(c.name.toLowerCase(),".png"),alt:"",width:"20",height:"20",className:"block mr-s"}):null,(0,d.jsx)("span",{children:c.name})]}),text:c.name};var i,l=(0,d.jsxs)("span",{className:"flex justify-start",children:[o?(0,d.jsx)("img",{"aria-hidden":"true",src:"/assets/icons/countries/".concat(c.name.toLowerCase(),".png"),alt:"",width:"20",height:"20",className:"block mr-s"}):null,(0,d.jsx)("span",{children:c.name})]});if(a)for(var p=c.comingSoonFeatures,m=void 0===p?[]:p,y=0;y<m.length;y++)if(m[y].startsWith(a)){i={text:"coming soon",className:"badge--light-blue badge--small"};break}return{label:l,badge:i}}(e,t,n)},x=function(e,t){return function(e,t){var n=[],r=t?[]:void 0;return g().forEach((function(s){for(var u=s.supportedFeatures,o=s.comingSoonFeatures,a=0;a<u.length;a++)if(u[a].startsWith(e))return void n.push(s.code);if(t&&o)for(var c=0;c<o.length;c++)if(o[c].startsWith(e))return void r.push(s.code)})),{supported:n,comingSoon:r}}(e,t)},F=n(14167),S=n(69580),j=n(35625),A=n(93475),V=n(24491),R=n(68725);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var s=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var k=f.currencySymbols,I=function(e){(0,o.Z)(n,e);var t=Z(n);function n(e){var s;(0,r.Z)(this,n),s=t.call(this,e),(0,i.Z)((0,u.Z)(s),"GlobalState",void 0),(0,i.Z)((0,u.Z)(s),"fxRateSubscription",void 0),(0,i.Z)((0,u.Z)(s),"countryOptions",x("send-to",!0)),(0,i.Z)((0,u.Z)(s),"currencyOptions",Object.keys(f.allCurrencies)),(0,i.Z)((0,u.Z)(s),"getAmountToDestinationRate",(function(e,t,n){var r,u=t||s.state.inputValues.sourceCurrency,o=n||s.state.inputValues.destinationCurrency,a=(0,j.convertCurrency)({fxRate:e||(null===(r=s.state)||void 0===r?void 0:r.fxRate)||s.props.fxRate,amount:1,from:u,to:o,currencyInput:"code",currencyDisplay:"code"});if(e)return a;s.setState({amountToDestinationRate:a})})),(0,i.Z)((0,u.Z)(s),"saveData",(function(){var e=s.state.inputValues,t=e.sourceAmount,n={sourceCurrency:e.sourceCurrency,destinationCurrency:"NGN",amount:t};s.GlobalState.update("transaction",n)})),(0,i.Z)((0,u.Z)(s),"sendCash",(function(){s.saveData(),"US"!==s.state.inputValues.selectedCountry?window.location.href="/home":window.location.href="https://sendcash.africa/send/USA"})),(0,i.Z)((0,u.Z)(s),"receiveCash",(function(){s.saveData(),window.location.href="/receive/choose-account"})),(0,i.Z)((0,u.Z)(s),"invertCurrencies",(function(){var e=s.state.inputValues,t=e.destinationCurrency,n=e.sourceCurrency,r=e.sourceAmount,u=e.destinationAmount;s.setState({inputValues:N(N({},s.state.inputValues),{},{destinationCurrency:n,sourceCurrency:t,sourceAmount:u,destinationAmount:r}),invertedCurrencies:!s.state.invertedCurrencies})})),(0,i.Z)((0,u.Z)(s),"handleBadgeCurrencyConversion",(function(){var e=s.state,t=e.amountToDestinationRate,n=e.inputValues,r=e.fxRate,u=(null===k||void 0===k?void 0:k[n.sourceCurrency])||n.sourceCurrency;if(Number(null===t||void 0===t?void 0:t.value)<=0){var o=(0,j.convertCurrency)({fxRate:r,amount:1,from:n.destinationCurrency,to:n.sourceCurrency,currencyInput:"code",currencyDisplay:"code"}).value;s.setState({badgeSourceCurrency:"".concat(u).concat(o)})}else s.setState({badgeSourceCurrency:"".concat(u,"1")})})),(0,V.S)()&&(s.GlobalState=(0,S.t)("@/global-store"));var o=s.props.sourceCurrency||"USD",a=(null===k||void 0===k?void 0:k[o])||o,c=s.props.destinationCurrency||"NGN",l=s.getAmountToDestinationRate(s.props.fxRate,o,c),d=s.props.sourceAmount,p=(0,j.convertCurrency)({fxRate:s.props.fxRate,amount:d,from:o,to:c,currencyInput:"code"}).value;return s.state={inputValues:{sourceAmount:d,sourceCurrency:o,destinationAmount:p,destinationCurrency:c,selectedCountry:"NG"},inputErrors:{sourceAmount:"",sourceCurrency:"",destinationAmount:"",destinationCurrency:"",selectedCountry:""},fxRate:s.props.fxRate,amountToDestinationRate:l,invertedCurrencies:!1,badgeSourceCurrency:"".concat(a,"1")},s}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=(0,S.t)("@/exchange-rate").fxRate$;this.fxRateSubscription=t.subscribe((function(t){var n=e.getAmountToDestinationRate(t);e.setState({fxRate:t,amountToDestinationRate:n},(function(){return e.onChangeSourceAmount()}))}))}},{key:"componentDidUpdate",value:function(e,t){var n,r,s,u,o,a,c=this.state.inputValues,i=c.destinationCurrency,l=c.sourceCurrency,d=c.sourceAmount;(this.state.invertedCurrencies!==t.invertedCurrencies&&this.getAmountToDestinationRate(),(0,R.isEqualTo)(null===(n=t.amountToDestinationRate)||void 0===n?void 0:n.value,null===(r=this.state.amountToDestinationRate)||void 0===r?void 0:r.value)||this.handleBadgeCurrencyConversion(),(0,R.isEqualTo)(e.sourceAmount,this.props.sourceAmount)||(0,R.isEqualTo)(this.props.sourceAmount,d)||this.setAmount("sourceAmount",this.props.sourceAmount.toString()),l!==t.inputValues.sourceCurrency)&&(this.getAmountToDestinationRate(),this.onChangeDestinationAmount(),null===(s=(u=this.props).setSourceCurrency)||void 0===s||s.call(u,l));(i!==t.inputValues.destinationCurrency&&(this.getAmountToDestinationRate(),this.onChangeSourceAmount()),(0,R.isEqualTo)(d,t.inputValues.sourceAmount))||(null===(o=(a=this.props).setAmount)||void 0===o||o.call(a,null===d||void 0===d?void 0:d.toString(),(0,A.getDisplayAmount)(d)))}},{key:"componentWillUnmount",value:function(){var e;this.saveData(),null===(e=this.fxRateSubscription)||void 0===e||e.unsubscribe()}},{key:"onChangeSourceAmount",value:function(){var e=this.state.fxRate,t=this.state.inputValues,n=t.sourceAmount,r=t.sourceCurrency,s=t.destinationCurrency,u=(0,j.convertCurrency)({fxRate:e,amount:n||0,from:r,to:s,currencyInput:"code"});this.setState({inputValues:N(N({},this.state.inputValues),{},{destinationAmount:u.value})})}},{key:"onChangeDestinationAmount",value:function(){var e=this.state.fxRate,t=this.state.inputValues,n=t.destinationAmount,r=t.sourceCurrency,s=t.destinationCurrency,u=(0,j.convertCurrency)({fxRate:e,amount:n||0,from:s,to:r,currencyInput:"code"});this.setState({inputValues:N(N({},this.state.inputValues),{},{sourceAmount:u.value})})}},{key:"setAmount",value:function(e,t){var n=this;this.setState({inputValues:N(N({},this.state.inputValues),{},(0,i.Z)({},e,t))},(function(){"sourceAmount"===e?n.onChangeSourceAmount():n.onChangeDestinationAmount()}))}},{key:"setError",value:function(e,t){var n,r,s;switch(this.setState({inputErrors:N(N({},this.state.inputErrors),{},(0,i.Z)({},e,t||""))}),e){case"destinationCurrency":s="destinationCurrency";break;case"sourceCurrency":s="sourceCurrency";break;case"sourceAmount":s="amount"}s&&(null===(n=(r=this.props).setError)||void 0===n||n.call(r,s,t))}},{key:"render",value:function(){var e,t,n,r,s,u,o,a,c,i=this,f=((null===k||void 0===k?void 0:k[this.state.inputValues.destinationCurrency])||this.state.inputValues.destinationCurrency,!this.props.hideReceive&&"NG"===this.state.inputValues.selectedCountry);return(0,d.jsx)(v.Z,{condition:!1,container:function(e){return(0,d.jsx)("div",{id:"currency-converter-mount-point",children:e})},children:(0,d.jsxs)("form",{className:"hero__card ".concat(this.props.minimal?"currency-converter--minimal":"currency-converter"),children:[(0,d.jsxs)("p",{className:"currency-converter__badge",children:[(null===(e=(t=this.props).badge)||void 0===e?void 0:e.call(t,this.state.badgeSourceCurrency,this.state.amountToDestinationRate))||null,this.props.hideRate?null:(0,d.jsxs)("span",{className:"badge--light-blue",children:[this.state.badgeSourceCurrency," ="," ",Number(null===(n=this.state.amountToDestinationRate)||void 0===n?void 0:n.value)>0?null===(r=this.state.amountToDestinationRate)||void 0===r?void 0:r.displayValue:"1 ".concat(this.state.inputValues.destinationCurrency)]})]}),(0,d.jsxs)("div",{className:"currency-converter__amount-inputs flex flex--column flex-layout-center-column",children:[(0,d.jsxs)("div",{className:"paired-inputs-wrapper flex-layout-center-center row-reverse mb",children:[(0,d.jsx)(m.Z,{options:null!==(s=this.props.filteredSendOptions)&&void 0!==s?s:this.currencyOptions,getDisplayValue:function(e,t){return(0,F.C)(e,t,{withIcon:!0,preferFlags:!0})},defaultValue:this.state.inputValues.sourceCurrency,value:this.state.inputValues.sourceCurrency,setValue:function(e){i.setState({inputValues:N(N({},i.state.inputValues),{},{sourceCurrency:e})})},label:"Select currency to send",pairedInput:!0}),(0,d.jsx)(h.Z,{value:(null===(u=this.state.inputValues.sourceAmount)||void 0===u?void 0:u.toString())||"",onChange:function(e){return i.setAmount("sourceAmount",e)},setError:function(e){return i.setError("sourceAmount",e)},currency:this.state.inputValues.sourceCurrency,children:function(e){return(0,d.jsx)(y.Z,N(N({},e.amountInputAttributes),{},{setValue:function(t){return e.setAmount(t)},value:e.displayValue,label:i.props.sourceLabel||"You send",errorMessage:e.errorMessage,onRejectInput:e.setRejectInputCallback,pairedInput:!0}))}})]}),(0,d.jsxs)("div",{className:"paired-inputs-wrapper flex-layout-center-center row-reverse mb",children:[(0,d.jsx)(m.Z,{options:null!==(o=this.props.filteredReceiveOptions)&&void 0!==o?o:this.currencyOptions,getDisplayValue:function(e,t){return(0,F.C)(e,t,{withIcon:!0,preferFlags:!0})},disabled:this.props.disableDestinationCurrencySelect,defaultValue:this.state.inputValues.destinationCurrency,value:this.state.inputValues.destinationCurrency,setValue:function(e){i.setState({inputValues:N(N({},i.state.inputValues),{},{destinationCurrency:e})})},label:"Select the receiving currency",pairedInput:!0}),(0,d.jsx)(h.Z,{value:(null===(a=this.state.inputValues.destinationAmount)||void 0===a?void 0:a.toString())||"",onChange:function(e){return i.setAmount("destinationAmount",e)},setError:function(e){return i.setError("destinationAmount",e)},currency:this.state.inputValues.destinationCurrency,children:function(e){return(0,d.jsx)(y.Z,N(N({},e.amountInputAttributes),{},{setValue:function(t){return e.setAmount(t)},value:e.displayValue,label:i.props.destinationLabel||"Recipient gets",errorMessage:e.errorMessage,onRejectInput:e.setRejectInputCallback,pairedInput:!0}))}})]}),this.props.hideSwitchCurrencies?null:(0,d.jsxs)("button",{onClick:function(){return i.invertCurrencies()},type:"button",className:"button button--small-circle",children:[(0,d.jsx)("span",{className:"sr-only",children:"Swap Currencies"}),(0,d.jsx)(p,{className:"".concat(this.state.invertedCurrencies?"rotate-svg":"")})]})]}),this.props.errorMessage&&(0,d.jsx)("p",{className:"amount-field__currency-conversion small",id:"amount-input-info",children:(0,d.jsx)(l.Z,{errorText:this.props.errorMessage})}),this.props.minimal?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"currency-converter__divider"}),(0,d.jsx)("div",{className:"currency-converter__country-input",children:(0,d.jsx)(m.Z,{options:this.countryOptions.supported,disabled:this.props.disableDestinationChange,getDisplayValue:function(e,t){return b(e,t,{feature:"send-to"})},defaultValue:this.state.inputValues.selectedCountry,setValue:function(e){var t,n;i.setState({inputValues:N(N({},i.state.inputValues),{},{selectedCountry:e})}),null===(t=(n=i.props).onDestinationChange)||void 0===t||t.call(n,e)},value:this.state.inputValues.selectedCountry,label:"Destination"})}),(0,d.jsxs)("div",{className:["currency-converter__action-buttons",this.props.hideButtonDivider?"button-gap":""].join(" "),children:[f?(0,d.jsx)("button",{type:"button",className:["button",this.props.hideButtonDivider?"":"button--left",this.props.hideSend?"button--wide":""].join(" "),onClick:null!==(c=this.props.receiveCash)&&void 0!==c?c:this.receiveCash,children:"Receive cash"}):null,f&&(0,d.jsx)(d.Fragment,{children:this.props.hideButtonDivider?null:(0,d.jsx)("div",{className:"button__divider",children:(0,d.jsx)("div",{})})}),this.props.hideSend?null:(0,d.jsx)("button",{type:"button",disabled:this.props.disableSend,className:["button",f&&!this.props.hideButtonDivider?"button--right":null,f?"":"button--wide"].join(" "),onClick:"NG"===this.state.inputValues.selectedCountry&&this.props.sendCash?this.props.sendCash:this.sendCash,children:"Send cash"})]})]})]})})}}]),n}(C.Component)},88850:function(e,t,n){"use strict";n(67294);var r=n(85893);t.Z=function(e){var t=e.condition,n=e.container,s=e.children;return t?n(s):(0,r.jsx)(r.Fragment,{children:s})}},14167:function(e,t,n){"use strict";n.d(t,{C:function(){return u}});var r=n(67294),s=n(55475),u=function(e,t,n){return s.C(e,t,n,r)}},86058:function(e){e.exports=[{name:"Nigeria",code:"NG",currency:"NGN",supportedFeatures:["send-to:p2p","send-to:btc","receive"],comingSoonFeatures:[]},{name:"USA",code:"US",currency:"USD",supportedFeatures:["send-from:wyre","send-to:wireout"]},{name:"United Kingdom",code:"GB",currency:null,supportedFeatures:["send-from:wyre"],comingSoonFeatures:["send-to"]},{name:"Canada",code:"CA",currency:null,supportedFeatures:["send-from:wyre"],comingSoonFeatures:["send-to"]},{name:"Ghana",code:"GH",currency:"GHS",supportedFeatures:[],comingSoonFeatures:["send-to"]},{name:"South Africa",code:"ZA",currency:null,supportedFeatures:["send-from:wyre"],comingSoonFeatures:["send-to"]},{name:"Algeria",code:"DZ",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Argentina",code:"AR",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Australia",code:"AU",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Austria",code:"AT",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Belgium",code:"BE",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Bolivia",code:"BO",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Brazil",code:"BR",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Chile",code:"CL",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Colombia",code:"CO",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Costa Rica",code:"CR",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Cyprus",code:"CY",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Czech Republic",code:"CZ",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Denmark",code:"DK",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Dominican Republic",code:"DO",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Estonia",code:"EE",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Finland",code:"FI",currency:null,supportedFeatures:["send-from:wyre"]},{name:"France",code:"FR",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Germany",code:"DE",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Greece",code:"GR",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Hong Kong",code:"HK",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Iceland",code:"IS",currency:null,supportedFeatures:["send-from:wyre"]},{name:"India",code:"IN",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Indonesia",code:"ID",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Ireland",code:"IE",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Israel",code:"IL",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Italy",code:"IT",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Japan",code:"JP",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Latvia",code:"LV",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Lithuania",code:"LT",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Luxembourg",code:"LU",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Malaysia",code:"MY",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Mexico",code:"MX",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Nepal",code:"NP",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Netherlands",code:"NL",currency:null,supportedFeatures:["send-from:wyre"]},{name:"New Zealand",code:"NZ",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Norway",code:"NO",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Paraguay",code:"PY",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Peru",code:"PE",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Philippines",code:"PH",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Poland",code:"PL",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Portugal",code:"PT",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Singapore",code:"SG",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Slovakia",code:"SK",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Slovenia",code:"SI",currency:null,supportedFeatures:["send-from:wyre"]},{name:"South Korea",code:"KR",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Spain",code:"ES",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Sweeden",code:"SE",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Switzerland",code:"CH",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Tanzania",code:"TZ",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Thailand",code:"TH",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Turkey",code:"TR",currency:null,supportedFeatures:["send-from:wyre"]},{name:"Vietnam",code:"VN",currency:null,supportedFeatures:["send-from:wyre"]}]}}]);
//# sourceMappingURL=9122-4c1ae72544374d9c.js.map